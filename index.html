<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Supply Chain Plimsoll - Studi Correlati</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="assets/css/plimsoll-supply-chain.css" rel="stylesheet">
</head>
<body>

<!-- Header -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
        <a class="navbar-brand" href="#">
            <i class="fas fa-industry"></i> Plimsoll Italia - Supply Chain System
        </a>
        <div class="navbar-nav ms-auto">
            <a class="nav-link" href="https://www.plimsoll.it" target="_blank">
                <i class="fas fa-external-link-alt"></i> Sito Plimsoll
            </a>
            <a class="nav-link" href="https://p0.me-page.com/project/289223/f52161219504742f83c20630d9133419" target="_blank">
                <i class="fas fa-info-circle"></i> Info Servizi
            </a>
        </div>
    </div>
</nav>

<!-- Main Content -->
<div class="container mt-4">
    
    <!-- Stats Bar -->
    <div class="row mb-4">
        <div class="col-md-3">
            <div class="stat-card">
                <h3 id="totalStudies">1,182</h3>
                <p>Studi Disponibili</p>
            </div>
        </div>
        <div class="col-md-3">
            <div class="stat-card">
                <h3 id="industriesCount">6</h3>
                <p>Filiere Mappate</p>
            </div>
        </div>
        <div class="col-md-3">
            <div class="stat-card">
                <h3 id="correlationsCount">2,400+</h3>
                <p>Correlazioni Identify</p>
            </div>
        </div>
        <div class="col-md-3">
            <div class="stat-card">
                <h3 id="marketsCount">5</h3>
                <p>Mercati Coperti</p>
            </div>
        </div>
    </div>

    <!-- Search Bar -->
    <div class="search-section mb-4">
        <div class="row">
            <div class="col-md-8">
                <div class="input-group">
                    <span class="input-group-text"><i class="fas fa-search"></i></span>
                    <input type="text" class="form-control" id="searchInput" 
                           placeholder="Cerca per settore, prodotto o codice (es: automotive, food, 29.32.01)">
                    <button class="btn btn-outline-secondary" id="clearSearch">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            <div class="col-md-4">
                <select class="form-select" id="industryFilter">
                    <option value="">Tutte le Filiere</option>
                    <option value="AUTOMOTIVE">üöó Automotive</option>
                    <option value="FOOD_BEVERAGE">üçΩÔ∏è Agroalimentare</option>
                    <option value="CONSTRUCTION">üèóÔ∏è Costruzioni</option>
                    <option value="TEXTILE_FASHION">üëó Tessile e Moda</option>
                    <option value="PHARMACEUTICAL">üíä Farmaceutica</option>
                    <option value="ENERGY">‚ö° Energetica</option>
                </select>
            </div>
        </div>
    </div>

    <!-- Studies Table -->
    <div class="table-section">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h4><i class="fas fa-table"></i> Studi Industriali</h4>
            <div class="results-info">
                Visualizzati: <span id="resultsCount">0</span> di <span id="totalCount">1,182</span> studi
            </div>
        </div>

        <div class="table-responsive">
            <table class="table table-hover">
                <thead class="table-dark">
                    <tr>
                        <th>Studio Industriale</th>
                        <th>Codici</th>
                        <th>Status</th>
                        <th>Filiera</th>
                        <th>Studi Correlati</th>
                        <th>Azioni</th>
                    </tr>
                </thead>
                <tbody id="studiesTableBody">
                    <!-- Populated by JavaScript -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- Supply Chain Explorer Modal -->
    <div class="modal fade" id="supplyChainModal" tabindex="-1">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-sitemap"></i> 
                        Filiera Supply Chain: <span id="modalStudyTitle"></span>
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <!-- Current Study -->
                    <div class="current-study-section mb-4">
                        <h6><i class="fas fa-crosshairs"></i> Studio Selezionato</h6>
                        <div id="currentStudyCard" class="study-card current-study">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Supply Chain Flow -->
                    <div class="supply-chain-flow">
                        <div class="row">
                            <!-- Upstream -->
                            <div class="col-md-4">
                                <h6><i class="fas fa-arrow-left text-info"></i> Upstream (Fornitori)</h6>
                                <div id="upstreamStudies" class="supply-chain-section">
                                    <!-- Populated by JavaScript -->
                                </div>
                            </div>

                            <!-- Same Level -->
                            <div class="col-md-4">
                                <h6><i class="fas fa-equals text-warning"></i> Stesso Livello</h6>
                                <div id="sameLevelStudies" class="supply-chain-section">
                                    <!-- Populated by JavaScript -->
                                </div>
                            </div>

                            <!-- Downstream -->
                            <div class="col-md-4">
                                <h6><i class="fas fa-arrow-right text-success"></i> Downstream (Clienti)</h6>
                                <div id="downstreamStudies" class="supply-chain-section">
                                    <!-- Populated by JavaScript -->
                                </div>
                            </div>
                        </div>

                        <!-- Cross Market -->
                        <div class="cross-market-section mt-4">
                            <h6><i class="fas fa-globe"></i> Altri Mercati</h6>
                            <div id="crossMarketStudies" class="supply-chain-section">
                                <!-- Populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <a href="https://www.plimsoll.it" target="_blank" class="btn btn-primary">
                        <i class="fas fa-external-link-alt"></i> Visita Plimsoll
                    </a>
                    <a href="https://p0.me-page.com/project/289223/f52161219504742f83c20630d9133419" target="_blank" class="btn btn-outline-info">
                        <i class="fas fa-info-circle"></i> Info Servizi
                    </a>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Chiudi</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Request Study Modal -->
    <div class="modal fade" id="requestStudyModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-envelope"></i> Richiedi Fattibilit√† Studio
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div id="requestStudyContent">
                        <!-- Populated by JavaScript -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Chiudi</button>
                    <a id="sendEmailBtn" href="#" class="btn btn-primary">
                        <i class="fas fa-paper-plane"></i> Invia Email
                    </a>
                </div>
            </div>
        </div>
    </div>

</div>

<!-- Footer -->
<footer class="bg-dark text-light mt-5 py-4">
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <h6>üîó Collegamenti Utili</h6>
                <ul class="list-unstyled">
                    <li><a href="https://www.plimsoll.it" target="_blank" class="text-light">Sito Plimsoll Italia</a></li>
                    <li><a href="https://p0.me-page.com/project/289223/f52161219504742f83c20630d9133419" target="_blank" class="text-light">Servizi e Analisi</a></li>
                    <li><a href="mailto:info@plimsoll.it" class="text-light">Contatti: info@plimsoll.it</a></li>
                </ul>
            </div>
            <div class="col-md-6">
                <h6>üìä Sistema Supply Chain</h6>
                <p class="mb-1">Mappatura completa di filiere industriali con correlazioni automatiche.</p>
                <p class="mb-0"><small>¬© 2025 Plimsoll Italia - Tutti i diritti riservati</small></p>
            </div>
        </div>
    </div>
</footer>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="assets/js/supply-chain-data.js"></script>
<script src="assets/js/supply-chain-system.js"></script>

</body>
</html>
